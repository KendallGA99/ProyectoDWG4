<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
    <head th:replace="~{layout/plantilla :: head}">
        <title>Velvet Bakery</title>
    </head>
    <body class="d-flex flex-column min-vh-100" style="background-image: "../../static/img/backery background.jfif"">

          <!---index cuerpo--->
          <section th:fragment="index">
            <div class="mycontainer" > 
                <div class="content">
                    <h1 class="h1"><b id="h1">[[#{index.1}]]</b> <br> <b id="h12">[[#{index.2}]]</b></h1>

                    <div class="container">
                        <div class="row">
                            <div class="column-66">
                                <h1 class="xlarge-font"><b id="cookies">[[#{index.3}]]</b></h1>
                                <h1 class="large-font" style="color:MediumSeaGreen;"><b id="loveem">[[#{index.4}]]</b></h1>
                                <p><span style="font-size:36px" id="eatone">[[#{index.5}]]</span> <span id="thankuslater">[[#{index.6}]]</span></p>
                                <a href="../productos/galletas"><button class="button" style="background-color:MediumSeaGreen">[[#{index.7.boton.ordenar}]]</button></a>
                            </div>
                            <div class="column-33">
                                <img src="img/Vegan_Chocolate_Mini_Cakes_With_Coconut_Milk_Ganache1.jpg" alt="" class="pictures"/>
                            </div>
                        </div>
                    </div>

                    <div class="container" style="background-color:transparent">
                        <div class="row">
                            <div class="column-33">
                                <img src="img/cakeshop.png" alt="" class="mypictures"/>

                            </div>
                            <div class="mycolumn-66">
                                <h1 class="xlarge-font"><b>[[#{index.8}]]</b></h1>
                                <h1 class="large-font" style="color:MediumSeaGreen;"><b>[[#{index.9}]]</b></h1>
                                <p>[[#{index.10}]]</p>
                                <a href="../productos/reposteriasalada"><button class="button" style="background-color:MediumSeaGreen">[[#{index.11}]]</button></a>
                            </div>
                        </div>
                    </div>

                    <div class="container">
                        <div class="row">
                            <div class="column-66">
                                <h1 class="xlarge-font"><b>[[#{index.12}]]</b></h1>
                                <h1 class="large-font" style="color:MediumSeaGreen;"><b>[[#{index.13}]]</b></h1>
                                <p><span style="font-size:36px">[[#{index.14}]]</span>[[#{index.15}]]</p>
                                <a href="../productos/cakes"><button class="button">[[#{index.16}]]</button></a>
                            </div>
                            <div class="column-33">
                                <img src="img/strawberry cake.jpg" alt="" class="pictures">
                            </div>
                        </div>
                    </div>

                    <div class="container" style="background-color:transparent">
                        <div class="row">
                            <div class="column-33">
                                <img src="img/stuffed donut.jpg" alt="" class="mypictures"/>
                            </div>
                            <div class="mycolumn-66">
                                <h1 class="xlarge-font"><b>[[#{index.17}]]</b></h1>
                                <h1 class="large-font" style="color:MediumSeaGreen;"><b>[[#{index.18}]]</b></h1>
                                <p>[[#{index.19}]]</p>
                                <a href="../productos/donas"><button class="button" style="background-color:MediumSeaGreen">[[#{index.20}]]</button></a>
                            </div>
                        </div>
                    </div>

                    <div class="flex-container">
                        <div class="flex-child magenta">
                            <div class="fondodiv"> 
                                <h1 class="myxlarge-font"><b>[[#{index.21}]] <br> [[#{index.22}]]</b></h1>
                                <p class="textodiv">[[#{index.23}]]</p>
                            </div>
                            <a href="../ubicacion/ubicacion"><button class="mybutton" style="background-color:MediumSeaGreen">[[#{index.24}]]</button></a>
                            <img src="img/backery background.jfif" class=""/>

                        </div>
                        <div class="flex-child green">
                            <div class="fondodiv2"> 
                                <h1 class="myxlarge-font"><b>[[#{index.25}]]</b></h1>
                            </div>
                            <img src="img/backery background.jfif" class=""/>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3 Sección principal para mostrar la informaccion de la entidad usuario -->
        <section th:fragment="listadoUsuarios" id="usuarios">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-12">
                        <div class="card border-0 shadow rounded-3 mb-5">
                            <div class="card-body" th:if="${usuarios != null and !usuarios.empty}">
                                <h2 class="text-center fw-bold mb-4" style="color: MediumSeaGreen;">Listado Usuarios</h2>
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover">
                                        <thead style="background-color: MediumSeaGreen; color: white;">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">[[#{usuario.cedula}]]</th>
                                                <th scope="col">[[#{usuario.username}]]</th>
                                                <th scope="col">[[#{usuario.nombre}]]</th>
                                                <th scope="col">[[#{usuario.apellidos}]]</th>
                                                <th scope="col">[[#{usuario.correo}]]</th>
                                                <th scope="col">[[#{usuario.direccion}]]</th>
                                                <th scope="col">[[#{usuario.telefono}]]</th>
                                                <th scope="col">Activo</th>
                                                <th scope="col">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="usuario, contador : ${usuarios}">
                                                <td>[[${contador.count}]]</td>
                                                <td>[[${usuario.cedula}]]</td>
                                                <td>[[${usuario.username}]]</td>
                                                <td>[[${usuario.nombre}]]</td>
                                                <td>[[${usuario.apellidos}]]</td>
                                                <td>[[${usuario.correo}]]</td>
                                                <td>[[${usuario.direccion}]]</td>
                                                <td>[[${usuario.telefono}]]</td>
                                                <td>Activo</td>
                                                <td class="text-center">
                                                    <div class="btn-group" role="group">
                                                        <a th:href="@{/usuario/modificar/}+${usuario.idUsuario}"
                                                           class="btn btn-sm text-white" style="background-color: MediumSeaGreen;">
                                                            <i class="fas fa-pencil"></i> [[#{accion.actualizar}]]
                                                        </a>
                                                        <a th:href="@{/usuario/eliminar/}+${usuario.idUsuario}"
                                                           class="btn btn-sm btn-danger ms-1">
                                                            <i class="fas fa-trash"></i> [[#{accion.eliminar}]]
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="text-center p-4" th:if="${usuarios == null or usuarios.empty}">
                                <span class="fs-5 text-muted">[[#{lista.vacia}]]</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4 Fragmento que se utiliza en la página modifica.html -->
        <section th:fragment="editarUsuario">
            <div class="mycontainer" style="margin-top: 80px;">
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <form method="POST"
                              th:action="@{/usuario/guardar}" th:object="${usuario}" enctype="multipart/form-data">
                            <input type="hidden" name="idUsuario" th:field="*{idUsuario}"/>
                            <section th:replace="~{usuario/fragmentos :: botonesEditar}"/>
                            <div class="card border-0 shadow rounded-3 p-4 mb-5">
                                <div class="card-body">
                                    <h2 class="text-center fw-bold mb-4" style="color: MediumSeaGreen;">[[#{accion.actualizar}]]</h2>
                                    <div class="mb-3">
                                        <label for="cedula" class="form-label fw-medium text-secondary">[[#{usuario.cedula}]]</label>
                                        <input type="number" class="form-control form-control-lg rounded-3" name="cedula" th:field="*{cedula}" required="true">
                                    </div>

                                    <div class="mb-3">
                                        <label for="username" class="form-label fw-medium text-secondary">[[#{usuario.username}]]</label>
                                        <input type="text" class="form-control form-control-lg rounded-3" name="username" th:field="*{username}" required="true">
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="nombre" class="form-label fw-medium text-secondary">[[#{usuario.nombre}]]</label>
                                                <input type="text" class="form-control form-control-lg rounded-3" name="nombre" th:field="*{nombre}" required="true">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="apellidos" class="form-label fw-medium text-secondary">[[#{usuario.apellidos}]]</label>
                                                <input type="text" class="form-control form-control-lg rounded-3" name="apellidos" th:field="*{apellidos}" required="true">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="correo" class="form-label fw-medium text-secondary">[[#{usuario.correo}]]</label>
                                        <input type="email" class="form-control form-control-lg rounded-3" name="correo" th:field="*{correo}" required="true">
                                    </div>

                                    <div class="mb-3">
                                        <label for="telefono" class="form-label fw-medium text-secondary">[[#{usuario.telefono}]]</label>
                                        <input type="tel" class="form-control form-control-lg rounded-3" name="telefono" th:field="*{telefono}" required="true">
                                    </div>

                                    <div class="mb-3">
                                        <label for="direccion" class="form-label fw-medium text-secondary">[[#{usuario.direccion}]]</label>
                                        <input type="text" class="form-control form-control-lg rounded-3" name="direccion" th:field="*{direccion}" required="true">
                                    </div>

                                    <div class="mb-3">
                                        <label for="password" class="form-label fw-medium text-secondary">[[#{usuario.password}]]</label>
                                        <input type="password" class="form-control form-control-lg rounded-3" name="password" th:field="*{password}">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5 Fragmento que se utiliza en el fragmento anterior -->
        <section th:fragment="botonesEditar">
            <div class="container py-4 mb-4">
                <div class="row">
                    <div class="col-md-4 d-grid">
                        <a th:href="@{/usuario/listado}" class="btn rounded-3 px-4 py-3 text-white fw-bold d-flex align-items-center justify-content-center gap-2" style="background-color:#0d6efd">
                            <i class="fas fa-arrow-left"></i> [[#{accion.regresar}]]
                        </a>
                    </div>
                    <div class="col-md-4 d-grid" sec:authorize="hasRole('ROLE_ADMIN')">                                
                        <a th:href="@{/usuario/eliminar/}+${usuario.idUsuario}"
                           class="btn rounded-3 px-4 py-3 text-white fw-bold d-flex align-items-center justify-content-center gap-2" style="background-color:#dc3545">
                            <i class="fas fa-trash"></i> [[#{accion.eliminar}]]
                        </a>
                    </div>
                    <div class="col-md-4 d-grid" sec:authorize="hasRole('ROLE_ADMIN')">
                        <button type="submit" class="btn rounded-3 px-4 py-3 text-white fw-bold d-flex align-items-center justify-content-center gap-2" style="background-color:#198754">
                            <i class="fas fa-check"></i> [[#{accion.guardar}]]
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </body>
</html>